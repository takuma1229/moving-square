<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Moving Square</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
      $(function() {
        $('.square').animate({
          // 右に移動 
          'marginLeft': '600px'
        }, 2000).animate({
          // 下に移動
          'marginTop' : '600px'
        }, 1000).animate({
          // 上に戻る
          'marginTop' : '200px'
        }, 2000).animate({
          // 左に戻る
          'marginLeft' : '200px'
        }, 1000).animate({
          // 右に移動
          'marginLeft': '400px'
        }).animate({zIndex:1},{
          // 反時計回りに一回転
          duration:1000,
          step:function(now){
            $(this).css({transform:'rotate(' + (now * -360) + 'deg)'});
          },
          complete:function(){
            $('.square').css('zIndex', 0);
          }
        }).animate({zIndex:1},{
          // 時計周りに一回転
          duration:1000,
          step:function(now){
            $(this).css({transform:'rotate(' + (now * 360) + 'deg)'});
          },
          complete:function(){
            $('.square').css('zIndex', 0);
          }
        }).animate({
          // 拡大縮小のため少し下に移動
          'marginTop': '400px'
        }).animate({
          // 同じアスペクト比で拡大
          'width' : "1000px", 'height' : '400px'
        }, 2000).animate({
          // 同じアスペクト比で縮小
          "width" : "250px", "height" : "100px"
        }, 2000).animate({
          // 元の大きさに戻す
          "width" : "500px", "height" : "200px"
        }, 2000).animate({
          // 横幅だけ拡大
          "width" : "600px"
        }, 1000).animate({
          // 横幅戻す
          "width" : "500px"
        }, 1000).animate({
          // 縦幅だけ拡大
          "height": "300px"
        }, 1000).animate({
          // 縦幅戻す
          "height" : "200px"
        })
          
      });
    </script>
  </head>
  <body>
    <div class="square"></div>
  </body>
</html>
